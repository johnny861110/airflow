# ====================================================
# Airflow Setup Configuration
# 所有可調整的變數都集中存放在此
# ====================================================

# --- Core Paths & User ---
export AIRFLOW_HOME="/opt/airflow"
export AIRFLOW_USER="airflow"

# --- Sub-directories (auto-derived) ---
export VENV_DIR="$AIRFLOW_HOME/venv"
export REQUIREMENTS_FILE="$AIRFLOW_HOME/requirement.txt"
export CFG_FILE="$AIRFLOW_HOME/airflow.cfg"
export SYSTEMD_DIR="$AIRFLOW_HOME/systemd"
export SCRIPTS_DIR="$AIRFLOW_HOME/scripts"
export CONFIG_DIR="$AIRFLOW_HOME/config"
export RUN_DIR="$AIRFLOW_HOME/run"
export LOG_DIR="$AIRFLOW_HOME/logs"
export MOUNT_DB_DIR="$AIRFLOW_HOME/postgres_data"

# --- Versions ---
export AIRFLOW_VERSION="2.8.1"
export PYTHON_VERSION="3.10.14"

# --- Auto-derived Versions & URLs ---
export PYTHON_MAJOR_MINOR="$(echo "$PYTHON_VERSION" | cut -d. -f1,2)"
export CONSTRAINT_URL="https://raw.githubusercontent.com/apache/airflow/constraints-${AIRFLOW_VERSION}/constraints-${PYTHON_MAJOR_MINOR}.txt"

# --- Container Settings ---
# Postgres 官方映像檔預設 UID/GID
export POSTGRES_UID="999"
export POSTGRES_GID="999"

# --- Python ---
# 如果系統中 python3.10 的指令不是 `python3.10`，可以在此指定完整路徑
# 預設會自動偵測，若偵測不到則使用編譯後的路徑
export PYTHON_CMD=""